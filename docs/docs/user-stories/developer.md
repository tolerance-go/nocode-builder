[[toc]]

<br />

👨‍💻 开发中
✔️ 已实现
☑️ 已完成

<br />

# 开发者故事集

## 👨‍💻 我希望删除插槽中多余的 ref 代码

**描述**

作为，一名开发者

我希望，删除插槽中多余的 ref 代码

以便于，我可以减少和需求无关的代码量，避免影响阅读，增加维护难度

**验收标准**

- 假如我查看插槽的代码，应该看不到多余的 ref 代码

## 👨‍💻 我希望代码新增字段后，本地 localStore 的数据不会在程序一开始的时候覆盖掉

**描述**

作为，一名开发者

我希望，我希望代码新增字段后，本地 localStore 的数据不会在程序一开始的时候覆盖掉

以便于，新增了字段后，也可以反应到程序中

**验收标准**

- 假如新增字段后，旧的本地数据应该和最新代码同步更新
  - 当，我在 store 中新增字段后
  - 并且，刷新页面
  - 那么，内存中的 redux 应该可以正确反应新增的字段

**依赖**

- 🟢 程序需要提供一个方法用来检测代码中的 store 和本地数据的差异，得到判断本地数据是不是已经过时
  - 🟢 我需要知道最新的代码相较于本地数据新增了哪些字段
    - 添加这些字段到本地数据对象中，然后使用它初始化 store
  - 🟢 我不需要知道最新的代码相较于本地数据删除了哪些字段
    - 因为下次 store 变化的时候，会自动保存最新到本地数据中
  - 🟢 我需要知道最新的代码相较于本地数据修改了哪些字段类型
    - 删除这些字段，并添加为最新代码数据，然后使用它初始化 store

:::

## 👨‍💻 我希望部件组件管理模块的方法可以根据部件返回不同具体的类型

**描述**

作为，一名开发者

我希望，我希望部件组件管理模块的方法可以根据部件返回不同具体的类型

以便于，在使用的时候不需要强制转换类型

:::

## ✔️ 我希望 widget 的默认值在数据库中不记录，转而使用代码内注册好的数据

**描述**

作为，一名开发者

我希望，widget 的默认值在数据库中不记录，转而使用代码内注册好的数据

以便于，更新字段的时候，只更新代码，和只升级 widget 实例的 props，而不用更新 widget 的默认值数据，减少冗余重复数据源

**验收标准**

- 🟢 数据库表中 widget 不再包含 props 相关字段
- 🟢 数据库 seed 的不应该再包含默认值部分
- 前端代码中获取默认 props 应该从模块中获取，而不是从数据库中获取

:::

## ✔️ 我希望拖动组件 hover 在部件上的组件区域时，可以触发相应的事件

**描述**

作为，一名开发者

我希望，拖动组件 hover 在部件上的组件区域时，可以触发相应的事件

以便于，我可以做出相应的处理

**验收标准**

- [Widget 组件需要提供一组回调函数，当 hover 在部件上时或者离开时，可以触发它](../system-apis.md#widget-drag-enter-and-leave-api)

:::

## ✔️ 我希望部件的 display 和其内部的组件的 display 可以保持一致

**描述**

作为，一名开发者

我希望，部件的 display 和其内部的组件的 display 可以保持一致

以便于，父组件可以控制子组件的布局

**验收标准**

- 子组件的 display 和父组件的 display 保持一致

:::

## ✔️ 我希望组件可以跨层级控制子插槽的尺寸样式

**描述**

作为，一名开发者

我希望，组件可以跨层级控制子插槽的尺寸样式

以便于，我可以控制子插槽的尺寸样式而不需要知道插槽元素结构

**验收标准**

- 可以通过动态样式表控制子插槽的尺寸样式

:::

## ✔️ 我希望插槽可以有一个公共插槽区域父组件进行管理

**描述**

作为，一名开发者

我希望，插槽可以有一个公共插槽区域父组件进行管理

以便于，我可以统一管理插槽

**验收标准**

- 存在对应插槽区域组件，可以管理子插槽

:::

## 我希望组件拖放到舞台插槽上后，应该触发相应的事件

**描述**

作为，一名开发者

我希望，组件拖放到舞台插槽上后，应该触发相应的事件

以便于，我可以监听事件，并做相应的处理

**验收标准**

- 事件模块触发相应事件

:::

## 我希望可以把数据保护到控制器中，他可以帮我自动保存到外部

**描述**

作为，一名开发者

我希望，可以把数据保护到控制器中，他可以帮我自动保存到外部

以便于，我可以持久化数据

:::

## 我希望可以把数据异步保存到本地

**描述**

作为，一名开发者

我希望，可以把数据异步保存到本地

以便于，我可以持久化数据

:::

## 我希望可以把数据异步保存到服务器

**描述**

作为，一名开发者

我希望，可以把数据异步保存到服务器

以便于，我可以持久化数据

:::

## 我希望可以通过接口，向舞台上添加部件

**描述**

作为，一名开发者

我希望，可以通过接口，向舞台上添加部件

以便于，我可以准备测试环境数据

**验收标准**

- cypress 提供相应的指令方法。

:::
